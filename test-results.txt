Running PHP to JS Converter Tests

================================================================================
✓ Variable names - strip $
✓ String concatenation - basic
✓ String concatenation - constants
✓ String concatenation - preserve dots in strings
✓ String concatenation - multi-line with dots in strings
✓ String concatenation - preserve dots in comments
✓ Object operator conversion
✓ Static operator conversion
✓ foreach - key value pairs
✓ foreach - value only
✓ elseif conversion
✓ global keyword - variable hoisting
✓ Error control operator
✓ Error control operator - preserve in comments
✓ die/exit conversion
✓ die variable should not convert
✓ define() conversion
✗ function declarations
  ✗ Missing expected: "export function myFunction(param1, param2) {"

--- Generated Output ---
//
// Converted from PHP: test17.php
// Source path: test17.php
// Generated: 2025-10-04 04:42:38
// Target: Node.js (server) + browser-friendly ES modules.
// NOTE: This is an automated light conversion. Manual review required.
//
// Environment shims (Node + Browser)
const __ENV__ = { isNode: typeof process !== 'undefined' && process.versions?.node, isBrowser: typeof window !== 'undefined' };

// HTML output helper function
function __outputHtml(lines) {
  console.log(lines.join('\n'));
}

// Module wrapper - encapsulates all code
// The _ parameter provides access to environment variables (GET, POST, SERVER, etc.)
(function(_) {
  // No global variables detected
  
function myFunction(param1, param2) {

})({
  GET: {},
  POST: {},
  SERVER: {},
  COOKIE: {},
  SESSION: {},
  REQUEST: {},
  FILES: {},
  ENV: process?.env || {}
});

// Selective exports
export { myFunction };
export { __ENV__, __outputHtml };

--- End Output ---

✗ class declarations
  ✗ Missing expected: "export class MyClass extends BaseClass {"

--- Generated Output ---
//
// Converted from PHP: test18.php
// Source path: test18.php
// Generated: 2025-10-04 04:42:38
// Target: Node.js (server) + browser-friendly ES modules.
// NOTE: This is an automated light conversion. Manual review required.
//
// Environment shims (Node + Browser)
const __ENV__ = { isNode: typeof process !== 'undefined' && process.versions?.node, isBrowser: typeof window !== 'undefined' };

// HTML output helper function
function __outputHtml(lines) {
  console.log(lines.join('\n'));
}

// Module wrapper - encapsulates all code
// The _ parameter provides access to environment variables (GET, POST, SERVER, etc.)
(function(_) {
  // No global variables detected
  
class MyClass extends BaseClass {

})({
  GET: {},
  POST: {},
  SERVER: {},
  COOKIE: {},
  SESSION: {},
  REQUEST: {},
  FILES: {},
  ENV: process?.env || {}
});

// Selective exports
// No functions to export
export { __ENV__, __outputHtml };

--- End Output ---

✓ echo conversion
✓ magic constants
✓ array() conversion
✓ associative array conversion
✓ comment conversion
✓ decimal numbers - preserve dots
✓ compound assignment .=
✓ require conversion
✓ require_once conversion
✓ String concatenation with block comments
✓ String concatenation after function call
✓ Alternative syntax - if/endif
✓ Alternative syntax - if/else/endif
✓ Alternative syntax - foreach/endforeach simple
✓ Alternative syntax - foreach/endforeach key-value
✓ Alternative syntax - while/endwhile
✓ Type casts removal
✓ Property access preservation
✓ in_array function preservation
✓ Superglobals conversion
✓ Array append operator
✓ String literal concatenation
✓ Equality operators
✓ Nested arrays
✓ String concatenation with block comment in function
✓ Blank lines preservation
✓ foreach with method call
✓ Single quote in single-line comment
✓ Comments with quotes
✓ require_once after comment with quote
✓ Array destructuring with list()
✓ define() scope handling
✓ Array key named include
================================================================================

Tests: 50 passed, 2 failed, 52 total